<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Image Test</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            padding: 20px;
            background: #f0f0f0;
        }
        .test-section {
            margin-bottom: 30px;
            background: white;
            padding: 20px;
            border-radius: 8px;
        }
        h2 {
            color: #333;
            border-bottom: 2px solid #007bff;
            padding-bottom: 10px;
        }
        img {
            max-width: 300px;
            height: 200px;
            object-fit: cover;
            margin: 10px;
            border: 2px solid #ddd;
        }
        .status {
            padding: 10px;
            margin: 10px 0;
            border-radius: 4px;
        }
        .success { background: #d4edda; color: #155724; }
        .error { background: #f8d7da; color: #721c24; }
    </style>
</head>
<body>
    <h1>Image Loading Test Page</h1>

    <div class="test-section">
        <h2>1. Direct Cloudinary Images (from Database)</h2>
        <img src="https://res.cloudinary.com/dfqoebbyj/image/upload/w_600,h_400,c_fill,g_center,q_auto,f_auto/v1757804284/unite_af3vyi.jpg" alt="UNITE Party" onerror="console.error('Failed to load UNITE image')">
        <img src="https://res.cloudinary.com/dfqoebbyj/image/upload/w_600,h_400,c_fill,g_center,q_auto,f_auto/v1757804647/empires_cpd6zo.jpg" alt="Empires Party" onerror="console.error('Failed to load Empires image')">
        <img src="https://res.cloudinary.com/dfqoebbyj/image/upload/w_600,h_400,c_fill,g_center,q_auto,f_auto/v1757773849/cruise-app/ports/santorini-greece_ywkczr.jpg" alt="Santorini Port" onerror="console.error('Failed to load Santorini image')">
    </div>

    <div class="test-section">
        <h2>2. Test with Different Image Formats</h2>
        <img src="https://via.placeholder.com/300x200/007bff/ffffff?text=Placeholder" alt="Placeholder">
        <img src="data:image/svg+xml,%3Csvg width='300' height='200' xmlns='http://www.w3.org/2000/svg'%3E%3Crect width='300' height='200' fill='%23ff6b6b'/%3E%3Ctext x='50%25' y='50%25' text-anchor='middle' dy='.3em' fill='white' font-size='20'%3ESVG Test%3C/text%3E%3C/svg%3E" alt="SVG Data URL">
    </div>

    <div class="test-section">
        <h2>3. Console Output</h2>
        <div id="console-output" class="status"></div>
    </div>

    <script>
        // Test image loading
        const testImages = [
            'https://res.cloudinary.com/dfqoebbyj/image/upload/w_600,h_400,c_fill,g_center,q_auto,f_auto/v1757804284/unite_af3vyi.jpg',
            'https://res.cloudinary.com/dfqoebbyj/image/upload/w_600,h_400,c_fill,g_center,q_auto,f_auto/v1757804647/empires_cpd6zo.jpg',
            'https://res.cloudinary.com/dfqoebbyj/image/upload/w_600,h_400,c_fill,g_center,q_auto,f_auto/v1757773849/cruise-app/ports/santorini-greece_ywkczr.jpg'
        ];

        const output = document.getElementById('console-output');
        let messages = [];

        testImages.forEach((url, index) => {
            const img = new Image();
            img.onload = () => {
                const msg = `✅ Image ${index + 1} loaded successfully: ${url.substring(0, 50)}...`;
                messages.push(msg);
                output.innerHTML = messages.join('<br>');
                output.className = 'status success';
            };
            img.onerror = () => {
                const msg = `❌ Image ${index + 1} failed to load: ${url.substring(0, 50)}...`;
                messages.push(msg);
                output.innerHTML = messages.join('<br>');
                output.className = 'status error';
            };
            img.src = url;
        });

        // Check for CSP or other blocking
        console.log('Test page loaded. Checking for Content Security Policy...');
        const meta = document.querySelector('meta[http-equiv="Content-Security-Policy"]');
        if (meta) {
            console.log('CSP found:', meta.content);
        } else {
            console.log('No CSP meta tag found');
        }
    </script>
</body>
</html>